package com.cvbuilder.config;

import java.util.Arrays;
import java.util.List;

import org.springframework.boot.context.properties.ConfigurationProperties;
import org.springframework.stereotype.Component;

import lombok.Data;

@Data
@Component
@ConfigurationProperties(prefix = "gemini")
public class GeminiProperties {
    private Api api = new Api();
    private String model;

    @Data
    public static class Api {
        private String keys; // application.yml'den gelen virgüllü string
    }

    // HATAYI DÜZELTEN METOT:
    public List<String> keyList() {
        if (api == null || api.getKeys() == null) return List.of();
        return Arrays.asList(api.getKeys().split(","));
    }
}